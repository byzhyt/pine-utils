const e=e=>{const t={b:!1,s:"",a:[],n:null,m:0,o:{}};return["checkbox","cascader"].includes(e.eltype)?[]:t[e?.dataType||"s"]},t=e=>e?.request??e?.name,s=e=>Number(e)<10?"0"+e:e,r=e=>!(!Object.isExtensible(e)||Array.isArray(e)),o=(e,t)=>{let s="";const o=t?t.split("."):[],n=async(e,t)=>{for(const c in e)if(t==c&&e.hasOwnProperty(t)){if(!r(e[t])||!o.length){s=e[t];break}await n(e[t],o.shift())}};return t&&Object.keys(e).length&&n(e,o.shift()),s},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";const s={};return e.reduce(((e,r)=>(r instanceof Object?!s[r[t]]&&((s[r[t]]=!0)&&e.push(r)):!s[r]&&((s[r]=!0)&&e.push(r)),e)),[])},c=e=>{let t="?";for(const s in e)s&&(t+=`${s}=${e[s]??""}&`);return t.replace(/&$/,"")},a=e=>{const t=decodeURIComponent(e).replace(/\S+\?/,""),s={};return t.split("&").map((e=>{const t=e.split("=");s[t[0]]=t[1]})),s},i=(e,t)=>{const s=Number(e),r=Number(t);return Math.floor(Math.random()*(s-r)+r)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t="";for(let s=0;s<e;s++)i(0,3)?t+=i(0,10):t+=String.fromCharCode(97+i(0,26));return t},u=(e,t)=>{const s={};return Array.isArray(e.params)&&e.params.map((e=>{e.static?s[e.label]=e.value:r(t)&&(s[e.label]=t[e.value]??+e)})),s},d=e=>new URL("../../image/"+e,import.meta.url).href,p=(e,t)=>{const s={...e.load},o=e.rreq,n=e.nonstop;r(o)&&o.label&&r(t)&&(o.static?s.url=s.url.replace(/rreq/g,o.label):s.url=s.url.replace(/rreq/g,t[o.label]));const a={...s,data:{}};if(r(t)&&"*"==e.params&&(a.data=t),Array.isArray(e.params)&&r(t)&&(a.data=u(e,t)),r(n)&&r(t)||"boolean"==typeof n&&r(t)){const s=[];"boolean"==typeof n&&n&&"*"==e.params?s.push(t):n.static?s.push(n.value):s.push(t[n.label]),"a"==e.dataType?a.data=s:a.data=s[0]}return t instanceof FormData||!e.queer||"post"!=a.type||(a.url=`${a.url}?${c(a.data)}`,delete a.data),a},h={http:/^(http|https):\/\//,license:/(^[A-H,J-N,P-R,TU,W-Y,0-9]{18}$)/,name:/(^[a-z,A-Z]{1,50}$)|(^[\u4e00-\u9fa5]{2,20}$)/,code:/(^[a-z,A-Z,0-9,1-9]{1,50}$)/,zh:/^[\u4e00-\u9fa5]{1,20}$/,telephone:/((^0[1-9]{2,3}\d{7,8}$)|(^[1-9]\d{6,7}$))/,en:/^[a-z,A-Z]{1,50}$/,enCode:/^\w{1,32}$/,email:/(^[a-zA-Z0-9]{1,}@[\d\w\W]+\.[\w\W]{2,5}$)/,phone:/^1[3-5,7-9]\d{9}$/,tel:/(^0[1-9]{2,3}\d{7,8}$)|(^[1-9]\d{6,7}$)/,inter:/(^[1-9]+$)|(^[1-9]\d+$)/,float:/(^0\.\d{1,2}$)|(^[1-9]\d+\.\d{1,2}$)/,iden:/^[1-8]\d{5}[1-2]\d{3}(0[1-9]|1[1-2])([0-2][1-9]|[1-2]0|3[0-1])\d{3}([1-9]|X)$/,credit:/^4$/,bank:/(^62\d{16}|\d{19}|\d{13}|\d{17}$)|(^[37,34]\d{13}$)|(^[30,36,38,39]\d{12}$)|(^5[1-5]\d{14}$)|(^4\d{15}$)/,date:/(^[1,2]\d{3}-(0[1-9]|1[0-2])-[0[1-9]|[1,2][0-9]|3[0-1]]$)|(^[1,2]\d{3}-(0[1-9]|1[0-2])-[0[1-9]|[1,2][0-9]|3[0-1]]\s(0[0-9][1-5][0-9]):(0[0-9][1-5][0-9]):(0[0-9][1-5][0-9])$)/,content:/^\S+$/},f=()=>{const{appVersion:e}=window.navigator;return["iPhone","Android","iPad"].includes(e)||window.innerWidth<760?"app":"pc"},g=e=>{const t={400:"请求方法与服务器约定的方法不一致",401:"请求地址未经授权",403:"请求地址访问被拒",404:"请求地址不存在",410:"请求的地址已经不再可用",413:"请求的资源过大服务器允许的大小",414:"请求地址URL长于服务器允许的长度",500:"服务器内部错误无法完成请求，请联系管理员",502:"服务端网关错误，请联系管理员",503:"服务器超载/停机维护，服务器目前无法使用，请稍后访问"};return/^30/.test(e)?"请求的地址已被重定向":t[e]},m="application/x-www-form-urlencoded",$=e=>{let t="";t=e?.queer?`${e?.prefix||""}${e?.url}?${c(e?.data||{})}`:`${e?.prefix||""}${e?.url}`;const s=e?.data;return{url:t,method:e?.type,params:["get","delete","head"].includes(e?.type)&&e?.data,data:["post","put","patch"].includes(e?.type)&&s,loading:e?.loading,showMessage:e?.showMessage,message:e?.message,request:e?.request,code:e?.code,contentType:e?.contentType??m,once:e?.once}},q=e=>{let t="";t=e?.queer?`${e?.prefix||""}${e?.url}?${c(e?.data||{})}`:`${e?.prefix||""}${e?.url}`;const s=e?.data;return{url:t,method:e?.type,data:s,loading:e?.loading,showMessage:e?.showMessage,message:e?.message,request:e?.request,code:e?.code,contentType:e?.contentType??m,once:e?.once}};class b{constructor(){this.configRequestFunction=e=>{const t={...e};if(t?.once&&!this.configRequest&&(this.configRequest=t,this.configRequest.once?this.configRequest.once-=1:this.configRequest.once=0),this.selfconfig.getToken()&&!t.istoken){const e=this.selfconfig.getToken();r(e)&&e.keys(e).map((s=>{t.headers[s]=e[s]}))}return t.headers["content-type"]=e?.contentType,t},this.httptResponseFunction=e=>{const{config:t,data:s,status:n,statusText:c}=e;if(!r(s))return Promise.resolve(s);const a={code:s.code??n,page:s.page??{},message:s.msg||c,data:t?.request?o(s,t.request):s},i=[this.selfconfig.config.code,"200"].includes(String(a.code));return t?.showMessage&&i&&this.selfconfig.messageBox({type:i?"success":"error",duration:2500,message:t?.message??statusError(i)}),i?Promise.resolve(a):Promise.reject(a)},this.httpErrorFunction=e=>{const{config:t,code:s,message:r}=e?JSON.parse(JSON.stringify(e)):{};return t&&t.once&&this.configRequest&&this.WebHttpRequest.request(t),this.selfconfig.messageBox({type:"error",duration:2500,message:t?.message??statusError(s)??r}),Promise.reject(e)}}}class y extends b{constructor(e){super(),this.configRequest=null,this.selfconfig=e,this.init(e)}init(e){const t=e.request;this.WebHttpRequest=t.create(),this.WebHttpRequest.interceptors.request.use(this.configRequestFunction,(e=>e)),this.WebHttpRequest.interceptors.response.use(this.httptResponseFunction,this.httpErrorFunction)}async request(e){return await this.WebHttpRequest.request($(e))}}class R extends b{constructor(e){super(),this.configRequest=null,this.selfconfig=e,this.init(e)}init(e){const t=e.request;this.WebHttpRequest={...t.request}}async request(e){return await this.WebHttpRequest.request({...q(e),success:this.httptResponseFunction,fail:this.httpErrorFunction})}}const w={"--color-line":"#f7f8fa","--color-h1":"#333333","--color-h2":"#666666","--color-h3":"#999999","--el-bg-color":"#f2f6fc","--el-color-info":"#909399","--el-color-error":"#f56c6c","--el-color-danger":"#f56c6c","--el-color-warning":"#010101","--el-color-success":"#67c23a","--el-color-primary":"#409eff","--el-color-white":"#ffffff","--el-color-black":" #303248","--el-border-color":"#dcdfe6","--el-disabled-text-color":"#dcdcdc","--el-disabled-bg-color":"#eeeff2","--el-text-color-placeholder":"#cccccc","--el-text-color-disabled":"#c0c4cc"};export{n as arrayToOnly,y as axiosHttpRequest,$ as axiosParamsConfig,p as beforeAxiosEnter,m as contentType,e as dataEmpty,s as fillNumber,o as findObjectValue,a as getDataToJSON,t as getName,u as getParams,f as getPlatform,b as httpRequestConfig,r as isObject,c as jsonToGetData,i as random,l as randomText,d as setFilePath,g as statusError,w as themeJson,R as uniHttpRequest,q as uniParamsConfig,h as validation};
